# 学习笔记——对python的学习

### 一、python的基本学习过程

1.**基本环境的搭建和基本工具的介绍**

​     工欲善其事，必先利其器。一个好的编程环境和软件对一个程序猿密不可分。在编程环境的选择上，我选择了学习python常用的pycharm。其中包含有python的解释器，可以将我们所打出的python语言转换成计算机二进制语言。

2.**python的基础语法**

在大致学习和了解了python之后，我发现其中的知识结构与c语言很像，我大致分为了以下几类

（1）变量类型

​      与c语言类似，python的赋值也是由=完成的。Python 中的变量赋值不需要类型声明。直接由变量的名称+所赋值就可以完成。所赋值决定了变量类型。

比如 n=100,n=2.0,n="Ross" 其中的100,2.0，“Ross"就分别表明了整形，浮点类型，和字符类型。这无疑方便许多

**多变量赋值：值得注意的是，python支持多变量同时赋值，如a=b=c=6.**

**（1.2）简单函数的数据类型转换**

有时候，我们需要对数据内置的类型进行转换，数据类型的转换，你只需要将数据类型作为函数名即可。

以下几个内置的函数可以执行数据类型之间的转换。这些函数返回一个新的对象，表示转换的值。

| 函数                                                         | 描述                                                |
| :----------------------------------------------------------- | :-------------------------------------------------- |
| [int(x [,base\])](https://www.runoob.com/python/python-func-int.html) | 将x转换为一个整数                                   |
| [long(x [,base\] )](https://www.runoob.com/python/python-func-long.html) | 将x转换为一个长整数                                 |
| [float(x)](https://www.runoob.com/python/python-func-float.html) | 将x转换到一个浮点数                                 |
| [complex(real [,imag\])](https://www.runoob.com/python/python-func-complex.html) | 创建一个复数                                        |
| [str(x)](https://www.runoob.com/python/python-func-str.html) | 将对象 x 转换为字符串                               |
| [repr(x)](https://www.runoob.com/python/python-func-repr.html) | 将对象 x 转换为表达式字符串                         |
| [eval(str)](https://www.runoob.com/python/python-func-eval.html) | 用来计算在字符串中的有效Python表达式,并返回一个对象 |
| [tuple(s)](https://www.runoob.com/python/att-tuple-tuple.html) | 将序列 s 转换为一个元组                             |
| [list(s)](https://www.runoob.com/python/att-list-list.html)  | 将序列 s 转换为一个列表                             |
| [set(s)](https://www.runoob.com/python/python-func-set.html) | 转换为可变集合                                      |
| [dict(d)](https://www.runoob.com/python/python-func-dict.html) | 创建一个字典。d 必须是一个序列 (key,value)元组。    |
| [frozenset(s)](https://www.runoob.com/python/python-func-frozenset.html) | 转换为不可变集合                                    |
| [chr(x)](https://www.runoob.com/python/python-func-chr.html) | 将一个整数转换为一个字符                            |
| [unichr(x)](https://www.runoob.com/python/python-func-unichr.html) | 将一个整数转换为Unicode字符                         |
| [ord(x)](https://www.runoob.com/python/python-func-ord.html) | 将一个字符转换为它的整数值                          |
| [hex(x)](https://www.runoob.com/python/python-func-hex.html) | 将一个整数转换为一个十六进制字符串                  |
| [oct(x)](https://www.runoob.com/python/python-func-oct.html) | 将一个整数转换为一个八进制字符串                    |

(2)python运算符

| +    | 加 - 两个对象相加                               | a + b 输出结果 30                                  |
| ---- | ----------------------------------------------- | -------------------------------------------------- |
| -    | 减 - 得到负数或是一个数减去另一个数             | a - b 输出结果 -10                                 |
| *    | 乘 - 两个数相乘或是返回一个被重复若干次的字符串 | a * b 输出结果 200                                 |
| /    | 除 - x除以y                                     | b / a 输出结果 2                                   |
| %    | 取模 - 返回除法的余数                           | b % a 输出结果 0                                   |
| **   | 幂 - 返回x的y次幂                               | a**b 为10的20次方， 输出结果 100000000000000000000 |
| //   | 取整除 - 返回商的整数部分（**向下取整**）       |                                                    |

**运算符上与c语言大同小异，与c语言类似，整数除以整数只能得到整数，要是想得到浮点数，只需将式子中的整数改为浮点数即可。在幂运算上，python使用了两个*来表示a是b的几次方**

（2.1）赋值运算符

| =    | 简单的赋值运算符 | c = a + b 将 a + b 的运算结果赋值为 c |
| ---- | ---------------- | ------------------------------------- |
| +=   | 加法赋值运算符   | c += a 等效于 c = c + a               |
| -=   | 减法赋值运算符   | c -= a 等效于 c = c - a               |
| *=   | 乘法赋值运算符   | c *= a 等效于 c = c * a               |
| /=   | 除法赋值运算符   | c /= a 等效于 c = c / a               |
| %=   | 取模赋值运算符   | c %= a 等效于 c = c % a               |
| **=  | 幂赋值运算符     | c **= a 等效于 c = c ** a             |
| //=  | 取整除赋值运算符 | c //= a 等效于 c = c // a             |

（2.2）逻辑运算符

| 运算符 | 逻辑表达式 | 描述                                                         |
| :----- | :--------- | :----------------------------------------------------------- |
| and    | x and y    | 布尔"与" - 如果 x 为 False，x and y 返回 False，否则它返回 y 的计算值。 |
| or     | x or y     | 布尔"或" - 如果 x 是非 0，它返回 x 的计算值，否则它返回 y 的计算值。 |
| not    | not x      | is布尔"非" - 如果 x 为 True，返回 False 。如果 x 为 False，它返回 True。 |

| is     | is 是判断两个标识符是不是引用自一个对象     | **x is y**, 类似 **id(x) == id(y)** , 如果引用的是同一个对象则返回 True，否则返回 False |
| ------ | ------------------------------------------- | :----------------------------------------------------------: |
| is not | is not 是判断两个标识符是不是引用自不同对象 | **x is not y** ， 类似 **id(a) != id(b)**。如果引用的不是同一个对象则返回结果 True，否则返回 False。 |

（3）python逻辑语句

python中的逻辑语句与c语言类似，都分为条件语句和循环语句

条件语句由 if, else等语句组成

循环语句由while语句等构成

**由于 python 并不支持 switch 语句，所以多个条件判断，只能用 elif 来实现，如果判断需要多个条件需同时判断时，可以使用 or （或），表示两个条件有一个成立时判断条件成功；使用 and （与）时，表示只有两个条件同时成立的情况下，判断条件才成功。**

### 二，面向对象程序设计的学习

​       在初步学习了面向对象的程序 设计后，我逐步了解到了封装，继承，多态这三个概念，它们的目的都是为了——代码重用。而多态则是为了实现另一个目的——接口重用，简单来说，面向对象的程序设计给了我们思考问题的全新方式。

1.封装

​     封装可以隐藏实现细节，使得代码模块化；在面向对象编程上可理解为：把客观事物封装成抽象的类，并且类可以把自己的数据和方法只让可信的类或者对象操作，对不可信的进行信息隐藏。

**封装的意义**

> 封装的意义在于保护或者防止代码（数据）被我们无意中破坏。在面向对象程序设计中数据被看作是一个中心的元素并且和使用它的函数结合的很密切，从而保护它不被其它的函数意外的修改。

1. 保护数据成员，不让类以外的程序直接访问或修改，只能通过提供的公共的接口访问==>数据封装 。

2. 方法的细节对用户是隐藏的，只要接口不变，内容的修改不会影响到外部的调用者==> 方法封装。

3. 当对象含有完整的属性和与之对应的方法时称为封装。

4. 从对象外面不能直接访问对象的属性，只能通过和该属性对应的方法访问。

5. 对象的方法可以接收对象外面的消息。

   简单来说，封装的目的不仅为了保护代码，还为了代码能够继续进行使用

2.继承

  简单来说，继承就是一种改进代码的模式，继承要求在大部分保留原有代码的基础上在根据现有要求对代码进行改进

面向对象编程 (OOP) 语言的一个主要功能就是“继承”。继承是指这样一种能力：它可以使用现有类的所有功能，并在无需重新编写原来的类的情况下对这些功能进行扩展。

通过继承创建的新类称为“子类”或“派生类”。

被继承的类称为“基类”、“父类”或“超类”。

继承的过程，就是从一般到特殊的过程。

要实现继承，可以通过“继承”（Inheritance）和“组合”（Composition）来实现。

在某些 OOP 语言中，一个子类可以继承多个基类。但是一般情况下，一个子类只能有一个基类，要实现多重继承，可以通过多级继承来实现。

继承概念的实现方式有三类：实现继承、接口继承和可视继承。

Ø     实现继承是指使用基类的属性和方法而无需额外编码的能力；

Ø     接口继承是指仅使用属性和方法的名称、但是子类必须提供实现的能力；

Ø     可视继承是指子窗体（类）使用基窗体（类）的外观和实现代码的能力。

3.多态

多态性（polymorphisn）是允许你将父对象设置成为和一个或更多的他的子对象相等的技术，赋值之后，父对象就可以根据当前赋值给它的子对象的特性以不同的方式运作。简单的说，就是一句话：允许将子类类型的指针赋值给父类类型的指针。

那么，多态的作用是什么呢？我们知道，封装可以隐藏实现细节，使得代码模块化；继承可以扩展已存在的代码模块（类）；它们的目的都是为了——代码重用。而多态则是为了实现另一个目的——接口重用！

多态性的实现，实现了程序设计中的多功能性这一要求，多态的作用，就是为了类在继承和派生的时候，保证使用“家谱”中任一类的实例的某一属性时的正确调用。



#### 2.面向过程与面向对象程序化设计的区别

​      在学习面向对象程序设计之后，我对这两种程序设计方式也有了一个更深刻的了解，我们以前在列出程序所使用的的步骤后编写函数再引用函数完成目标的编程方式称为面向过程的程序化设计。二面向对象的程序设计则要求我们要能够以一种抽象思维去思考问题。将问题中每一个对象抽象出来。这样每个对象是独立的，有属于它自己的功能，只需要专心实现自己的功能就好。所以在建立对象模型阶段，仅仅关注对象有什么的功能，但不考虑如何实现这些功能。

​       面向对象的好处，就包括有很好的延展性，比如我给大象赋予了一个吃的功能，它通过调用就可以在冰箱里去吃东西。面向对象就是把现实问题抽象为对象，通过调用每个对象的属性或功能去解决问题。

###  三、对python爬虫的基本了解

网络爬虫（Web Spider）又称“网络蜘蛛”或“网络机器人”，它是一种按照一定规则从 Internet 中获取网页内容的程序。广为人知的“搜索引擎”就是最常见的爬虫程序，比如当我们使用百度引擎搜索关键字时，“百度蜘蛛”就会根据您输入的关键字去互联网资源中抓取相应的页面。

归纳为四大步：

1. 根据url获取HTML数据

2. 解析HTML，获取目标信息

3. 存储数据

4. 重复第一步

   1，爬取网页，baseurl 就是我们要爬虫的网页网址，往下走，调用了 getData（baseurl) ,

   一般在第一步时会调用askURL来请求网页，这个方法是请求网页的主体方法，这个步骤的目的是防止爬虫程序被服务器认出而影响后续运行

​      2.**2.逐一解析数据**

​                解析数据这里我们用到了 BeautifulSoup（靓汤） 这个库，这个库是几乎是做爬虫必备的库，无论你是什么写法。

​               下面就开始查找符合我们要求的数据，用BeautifulSoup的方法以及 re 库的
​                 正则表达式去匹配，匹配到符合我们要求的数据，然后存进 dataList ， 所以 dataList 里就存放着我们需要的数据了。

3.**保存数据**

​    最后在创建一个工作表，将我们所需的数据存储在自己创建的工作表中就完成了

> 2.爬虫的基本结构

Python 爬虫架构主要由五个部分组成，分别是调度器、URL管理器、网页下载器、网页解析器、应用程序（爬取的有价值数据）。

- **调度器：**相当于一台电脑的CPU，主要负责调度URL管理器、下载器、解析器之间的协调工作。
- **URL管理器：**包括待爬取的URL地址和已爬取的URL地址，防止重复抓取URL和循环抓取URL，实现URL管理器主要用三种方式，通过内存、数据库、缓存数据库来实现。
- **网页下载器：**通过传入一个URL地址来下载网页，将网页转换成一个字符串，网页下载器有urllib2（Python官方基础模块）包括需要登录、代理、和cookie，requests(第三方包)
- **网页解析器：**将一个网页字符串进行解析，可以按照我们的要求来提取出我们有用的信息，也可以根据DOM树的解析方式来解析。网页解析器有正则表达式（直观，将网页转成字符串通过模糊匹配的方式来提取有价值的信息，当文档比较复杂的时候，该方法提取数据的时候就会非常的困难）、html.parser（Python自带的）、beautifulsoup（第三方插件，可以使用Python自带的html.parser进行解析，也可以使用lxml进行解析，相对于其他几种来说要强大一些）、lxml（第三方插件，可以解析 xml 和 HTML），html.parser 和 beautifulsoup 以及 lxml 都是以 DOM 树的方式进行解析的。
- **应用程序：**就是从网页中提取的有用数据组成的一个应用。

